<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">


<f:view contentType="text/html">
	<h:body>

		<ui:composition template="/template/base.xhtml">

			<ui:define name="content">
				<center>

					<p:panel id="pane" header="Listado de Requerimientos"
						style="width:1100px">
						<h:form>
							<p:dataTable id="dtRequerimientos" var="m"
								value="#{requerimientoBean.all}" rows="8" paginator="true"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15">

								<f:facet name="header">
									<p:outputPanel>
										<h:outputText value="Buscar:" />
										<p:inputText id="globalFilter"
											onkeyup="PF('requerimientoWidget').filter()" style="width:150px"
											placeholder="Buscar Texto" />
									</p:outputPanel>
								</f:facet>

								<p:column filterBy="#{m.id}" filterStyle="display:none"
									style="width:20px; text-align: center;">
									<f:facet name="header">
										<h:outputText value="Id" />
									</f:facet>
									<h:outputText id="tid" value="#{m.id}" />
								</p:column>

								<p:column filterBy="#{m.fecha}" filterStyle="display:none"
									style="width:50px; text-align: center;">
									<f:facet name="header">
										<h:outputText value="Fecha" />
									</f:facet>
									<h:outputText id="tfecha" value="#{m.fecha}" />
								</p:column>
								
								<p:column filterBy="#{m.estado}" filterStyle="display:none"
									style="width:50px; text-align: center;">
									<f:facet name="header">
										<h:outputText value="Estado" />
									</f:facet>
									<h:outputText id="testado" value="#{m.estado}" />
								</p:column>

								<p:column filterBy="#{m.areaNegocio.nombre}"
									filterStyle="display:none"
									style="width:100px; text-align: center;">
									<f:facet name="header">
										<h:outputText value="AreaNegocio" />
									</f:facet>
									<h:outputText id="tareaNegocio" value="#{m.areaNegocio.nombre}" />
								</p:column>


								<p:column filterBy="#{m.usuario.nombres}"
									filterStyle="display:none"
									style="width:70px; text-align: left;">
									<f:facet name="header">
										<h:outputText value="Usuario" />
									</f:facet>
									<h:outputText id="usuario" value="#{m.usuario.nombres}" />
								</p:column>

								<p:column filterBy="#{m.centroCosto.nombre}"
									filterStyle="display:none"
									style="width:140px; text-align: left;">
									<f:facet name="header">
										<h:outputText value="Centro costo" />
									</f:facet>
									<h:outputText id="tusuario" value="#{m.centroCosto.nombre}" />
								</p:column>

								

								

								

								<p:column style="width:130px; text-align: center;">
									<f:facet name="header">
										<h:outputText value="Operacion" />
									</f:facet>

									<p:commandButton action="#{requerimientoBean.show}"
										icon="ui-icon-search" title="Mostrar" rendered="#{true}">
										<f:setPropertyActionListener value="#{m.id}"
											target="#{requerimientoBean.requerimiento.id}" />
									</p:commandButton>

									<p:commandButton action="#{requerimientoBean.edit}"
										icon="ui-icon-pencil" title="Editar" rendered="#{true}">
										<f:setPropertyActionListener value="#{m.id}"
											target="#{requerimientoBean.requerimiento.id}" />
									</p:commandButton>

									<p:commandButton action="#{requerimientoBean.delete}"
										onclick="return confirm('Â¿Confirma que desea anular este requerimiento?')"
										icon="ui-icon-closethick" title="Eliminar" rendered="#{true}">
										<f:setPropertyActionListener value="#{m.id}"
											target="#{requerimientoBean.requerimiento.id}" />
									</p:commandButton>



								</p:column>



							</p:dataTable>
						</h:form>

					</p:panel>

					<p></p>
					<h:form>
						<p:commandButton action="#{requerimientoBean.add}" value="Nuevo Requerimiento" />
						<p:commandButton value="Volver al Inicio"
							action="#{usersBean.sessionHome}" />

					</h:form>
				</center>
			</ui:define>

		</ui:composition>

	</h:body>

</f:view>
</html>